{
	"ddl": {
		"postgres": [
			"create table if not exists runwebhook (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamptz NOT NULL, update_time timestamptz NOT NULL, payload bytea NOT NULL, PRIMARY KEY (id))",
			"create table if not exists runwebhookdelivery (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamptz NOT NULL, update_time timestamptz NOT NULL, sequence bigint generated by default as identity NOT NULL UNIQUE, run_webhook_id varchar NOT NULL, delivery_status varchar NOT NULL, delivered_at timestamptz, status_code bigint NOT NULL, PRIMARY KEY (id), foreign key (run_webhook_id) references runwebhook(id))",
			"create table if not exists lastruneventsequence (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamptz NOT NULL, update_time timestamptz NOT NULL, value bigint NOT NULL, PRIMARY KEY (id))",
			"create table if not exists commitstatus (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamptz NOT NULL, update_time timestamptz NOT NULL, project_id varchar NOT NULL, state varchar NOT NULL, commit_sha varchar NOT NULL, run_counter bigint NOT NULL, description varchar NOT NULL, context varchar NOT NULL, PRIMARY KEY (id))",
			"create table if not exists commitstatusdelivery (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamptz NOT NULL, update_time timestamptz NOT NULL, sequence bigint generated by default as identity NOT NULL UNIQUE, commit_status_id varchar NOT NULL, delivery_status varchar NOT NULL, delivered_at timestamptz, PRIMARY KEY (id), foreign key (commit_status_id) references commitstatus(id))",
			"create index if not exists runwebhookdelivery_sequence_idx on runwebhookdelivery(sequence)",
			"create index if not exists commitstatusdelivery_sequence_idx on commitstatusdelivery(sequence)"
		],
		"sqlite3": [
			"create table if not exists runwebhook (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamp NOT NULL, update_time timestamp NOT NULL, payload blob NOT NULL, PRIMARY KEY (id))",
			"create table if not exists runwebhookdelivery (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamp NOT NULL, update_time timestamp NOT NULL, sequence integer NOT NULL UNIQUE, run_webhook_id varchar NOT NULL, delivery_status varchar NOT NULL, delivered_at timestamp, status_code bigint NOT NULL, PRIMARY KEY (id), foreign key (run_webhook_id) references runwebhook(id))",
			"create table if not exists lastruneventsequence (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamp NOT NULL, update_time timestamp NOT NULL, value bigint NOT NULL, PRIMARY KEY (id))",
			"create table if not exists commitstatus (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamp NOT NULL, update_time timestamp NOT NULL, project_id varchar NOT NULL, state varchar NOT NULL, commit_sha varchar NOT NULL, run_counter bigint NOT NULL, description varchar NOT NULL, context varchar NOT NULL, PRIMARY KEY (id))",
			"create table if not exists commitstatusdelivery (id varchar NOT NULL, revision bigint NOT NULL, creation_time timestamp NOT NULL, update_time timestamp NOT NULL, sequence integer NOT NULL UNIQUE, commit_status_id varchar NOT NULL, delivery_status varchar NOT NULL, delivered_at timestamp, PRIMARY KEY (id), foreign key (commit_status_id) references commitstatus(id))",
			"create index if not exists runwebhookdelivery_sequence_idx on runwebhookdelivery(sequence)",
			"create index if not exists commitstatusdelivery_sequence_idx on commitstatusdelivery(sequence)"
		]
	},
	"sequences": [
		{
			"name": "runwebhookdelivery_sequence_seq",
			"table": "runwebhookdelivery",
			"column": "sequence"
		},
		{
			"name": "commitstatusdelivery_sequence_seq",
			"table": "commitstatusdelivery",
			"column": "sequence"
		}
	],
	"tables": [
		{
			"name": "runwebhook",
			"columns": [
				{
					"name": "id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "revision",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "creation_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "update_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "payload",
					"type": "[]byte",
					"nullable": false
				}
			]
		},
		{
			"name": "runwebhookdelivery",
			"columns": [
				{
					"name": "id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "revision",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "creation_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "update_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "sequence",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "run_webhook_id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "delivery_status",
					"type": "string",
					"nullable": false
				},
				{
					"name": "delivered_at",
					"type": "time.Time",
					"nullable": true
				},
				{
					"name": "status_code",
					"type": "int",
					"nullable": false
				}
			]
		},
		{
			"name": "lastruneventsequence",
			"columns": [
				{
					"name": "id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "revision",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "creation_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "update_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "value",
					"type": "uint64",
					"nullable": false
				}
			]
		},
		{
			"name": "commitstatus",
			"columns": [
				{
					"name": "id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "revision",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "creation_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "update_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "project_id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "state",
					"type": "string",
					"nullable": false
				},
				{
					"name": "commit_sha",
					"type": "string",
					"nullable": false
				},
				{
					"name": "run_counter",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "description",
					"type": "string",
					"nullable": false
				},
				{
					"name": "context",
					"type": "string",
					"nullable": false
				}
			]
		},
		{
			"name": "commitstatusdelivery",
			"columns": [
				{
					"name": "id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "revision",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "creation_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "update_time",
					"type": "time.Time",
					"nullable": false
				},
				{
					"name": "sequence",
					"type": "uint64",
					"nullable": false
				},
				{
					"name": "commit_status_id",
					"type": "string",
					"nullable": false
				},
				{
					"name": "delivery_status",
					"type": "string",
					"nullable": false
				},
				{
					"name": "delivered_at",
					"type": "time.Time",
					"nullable": true
				}
			]
		}
	]
}
